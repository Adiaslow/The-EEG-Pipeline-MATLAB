```
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣀⣤⣤⣤⣀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⢀⢄⣒⢏⣐⢐⢈⢀⠈⢀⢢⡀⢠⠈⢂⣫⢢⣤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠃⣗⢤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠐⠓⠊⠊⣄⠐⢠⢁⢈⠅⠂⢀⢈⠀⢀⢨⠘⣢⢐⠊⣯⣤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢣⣹⣄⠀⠀⠀⣄⣄⣠⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠂⢄⢀⠀⠀⢠⠀⢀⠀⢀⢐⢠⢡⠡⡎⣯⡀⠀⢀⡠⢄⢒⠀⢉⢩⢩⠁⢁⠉⢠⢂⢤⣀⣀⣀⠀⠀⣇⢏⡄⠀⢀⣟⢮⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠁⠠⣀⢀⢀⢀⠠⠄⢀⢈⢕⣵⠛⠉⢁⢀⢀⢐⢀⠈⠐⢀⠀⣀⢐⢀⣨⢂⠀⢀⢀⢈⢀⢈⢠⠈⢐⠐⠩⠻⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⢀⡠⠤⢀⠀⠠⢠⢤⣀⠀⠀⠀⠉⠀⠊⠮⣮⠃⢉⠔⢀⣰⣀⠠⢀⢠⢠⣈⠀⠠⠐⠠⢀⣿⣿⢏⠀⣀⠠⠐⣀⣠⣐⠠⢰⠀⣀⡀⢀⠀⢒⠀⠀⠀⠀⠀⠀⠀⠀
⠀⢀⢄⢈⠐⢈⢀⢀⠀⠐⡈⢀⢀⠠⠀⠈⢒⢄⠀⡄⢉⠀⡀⠀⠐⢀⢀⠠⡈⣾⣿⣷⢀⢪⢠⠀⠀⢐⢀⠁⢠⢀⢀⠀⢈⢘⣀⣀⠰⠤⢄⣐⠀⠀⣛⠏⠀⠀⠀⠀⠀⠀⠀⠀
⠊⢀⣠⢀⢀⢘⢀⠐⢀⠰⢀⢀⢀⠠⠀⢄⣈⢐⢠⠀⢨⢢⢈⢈⣂⢰⣞⢠⣈⠀⠐⠀⢀⠀⢀⢀⢀⠀⠀⢐⠴⠒⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢀⠀⢠⢀⢐⢀⢀⠀⢀⢀⢀⠨⠀⢐⠀⢀⢀⣀⢀⠠⢀⠀⢀⠀⠠⣀⢠⢀⠀⢠⠀⠈⢀⢀⠈⢀⣀⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢀⢀⢨⢠⢀⢨⠸⠰⢀⢐⠀⢀⢠⢊⠠⢠⢨⢘⢂⣐⠀⠀⢀⢐⠂⢐⠑⢀⠀⠀⠀⢀⠐⠠⢀⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢀⠀⢠⠠⢀⣈⣈⣈⢀⠠⢈⠀⠀⣐⠈⢀⢈⠀⢠⣠⢀⠠⣀⠀⠀⢀⣢⢀⣀⠀⢈⠀⢀⢀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⣀⣈⠨⢸⢀⠀⢊⠀⠀⠀⠌⢀⠰⢀⠐⢀⢨⠈⢀⠊⠀⠈⠘⠘⠐⠠⢊⢘⠀⠠⢨⠐⠀⠰⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢠⢀⢠⢰⢀⢀⢀⠀⠀⡐⢀⢀⢈⢐⠀⢠⢠⠀⢀⢀⢀⢀⢀⢀⢀⠠⣀⠀⢀⠠⠀⢀⢠⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⢈⢀⠐⢐⢀⢠⠐⢀⢐⢊⠀⠀⢀⢀⢈⢁⣀⢠⠀⢈⠀⢀⠀⠀⢀⢀⠀⢀⢀⠀⠐⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⣤⣄⣀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⣨⢀⢊⢠⢀⢀⢈⢐⠀⢀⠀⢀⠀⠈⢀⠀⢐⠀⠀⠀⢀⢀⢀⠀⢠⢰⢄⠀⠈⢀⠁⠀⢀⢁⢀⣂⣔⣦⣤⣀⠀⠀⠀⠀⠀⠀⠀⠈⠈⠐⠊⢼⠨⢁⢘⣯⢦⠀⠀⠀⠀⠀⠀⠀
⠀⠀⣀⢀⠀⠀⠀⠀⢀⠈⢠⡀⠐⢀⠀⠀⣈⢠⢠⣊⢀⠈⢀⢀⠂⠀⠑⢄⣀⢀⢈⣠⠬⠊⠁⠀⠁⠀⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠪⣬⠎⣫⡄⠀⠀⠀⠀⠠
⠀⠂⠘⢰⢀⢠⢀⢀⢀⠈⢀⢀⠠⠀⢀⠐⡠⢘⠘⠂⠀⠔⠈⠀⠀⠀⠀⠀⠀⡞⢽⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⢤⣀⠒⢲⢒⢒⠒⢁⢀⣰⢀⣉⢂⠂⠂⣠⠠
⢀⡀⢀⠠⢈⠀⣈⠈⢄⠠⢨⣀⠈⢀⡀⠨⠤⠀⠈⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣯⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⠂⠁⠠⠘⢨⢐⢀⣀⠀⠈⢠⠐⠢⢿⠟⠀⢀⠈⡀⢊
⠀⠀⠈⢂⠠⢈⢀⢐⠀⠀⠀⠀⠠⠀⢻⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⢴⢲⢒⠠⠐⢡⣀⢐⢂⠰⢠⢐⠀⠙⠿⠋⠀⠀⠀⢂⢰⠤⠒⠈⠉⠀⠀
⣰⣈⢘⢂⢐⢀⠀⡀⠈⢀⢀⢀⠀⠐⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣔⣛⢐⢘⢀⢠⣀⠀⢀⣐⢀⢀⢐⠀⠀⢘⠀⢈⢀⠀⢈⠈⠄⠉⠀⠀⠀⠀⠀⠀⠀
⢈⠈⢀⠈⢀⠐⢀⣀⢀⢀⢈⢀⠀⢀⠠⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣖⢃⣈⢳⢡⢈⠀⢈⠠⢀⠀⠀⠠⢀⢊⢄⢐⢀⢀⢠⢠⡠⢀⡜⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢣⢪⠨⠰⢐⢀⢀⠈⢐⣐⢈⠄⠢⢨⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣧⣃⢄⢀⣰⢢⠀⠀⢠⢠⠀⢀⣈⢀⠐⠨⢀⢀⢠⢈⠀⠈⢀⠰⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠈⠢⢈⠀⢈⠀⠐⢀⢀⠐⠐⠐⢀⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣏⣇⣊⣧⢐⠠⢰⠀⢀⢐⢀⢀⢀⢀⢀⠀⠈⡈⢐⠨⡀⢀⠀⠀⣠⣩⣤⡀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠈⢌⠀⠀⠀⠌⢠⢐⢐⠀⠐⢐⢂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⠂⣁⢢⢊⠀⠠⢀⠈⢀⢀⠀⢢⠀⢐⢀⠨⢬⠐⠒⠈⠀⠀⠀⠈⣿⠉⠏⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠂⢀⡈⠈⠀⠈⢠⣀⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣇⢑⢘⣢⠠⢐⢀⡀⢐⢨⣄⢰⢀⢠⠀⠀⢀⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠈⢄⠀⢠⠀⠈⢀⠐⢈⣿⣤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠃⣅⠀⠡⠢⢢⡤⠈⠀⠀⠉⡀⢀⠀⠨⢘⢹⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠈⠒⠀⣨⣶⢿⣯⣯⣻⣻⣷⢯⣶⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠢⣀⣠⣤⡿⣶⣤⣤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠒⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠉⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀
        TTTTTT  HH  HH  EEEEEE          EEEEEE  EEEEEE   GGGGG
          TT    HH  HH  EE              EE      EE      GG   
          TT    HHHHHH  EEEEEE          EEEEEE  EEEEEE  G  GGG  
          TT    HH  HH  EE              EE      EE      GG  GG
          TT    HH  HH  EEEEEE          EEEEEE  EEEEEE   GGG G

    PPPPPP  IIIIII  PPPPPP  EEEEEE  LL      IIIIII  NN  NN  EEEEEE
    PP  PP    II    PP  PP  EE      LL        II    NNN NN  EE
    PPPPPP    II    PPPPPP  EEEEEE  LL        II    NNNNNN  EEEEEE
    PP        II    PP      EE      LL        II    NN NNN  EE
    PP      IIIIII  PP      EEEEEE  LLLLLL  IIIIII  NN  NN  EEEEEE
```
# Description
This is intended to be an easy-to-use EEG processing pipeline that shields the user from needing to tamper with code.

# Information

## Data Structure
The main data structure that is used in this pipeline is the EEGLAB EEG data structure. An example of the structure is below:
```
             setname: 'EEG Data epochs'
            filename: 'eeglab_data_epochs_ica.set'
            filepath: '/data/matlab/eeglab/sample_data/'
             subject: ''
               group: ''
           condition: ''
             session: []
            comments: [9×769 char]
              nbchan: 32
              trials: 80
                pnts: 384
               srate: 128
                xmin: -1
                xmax: 1.9922
               times: [1×384 double]
                data: [32×384×80 single]
              icaact: [32×384×80 single]
             icawinv: [32×32 double]
           icasphere: [32×32 double]
          icaweights: [32×32 double]
         icachansind: [1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32]
            chanlocs: [1×32 struct]
          urchanlocs: [1×32 struct]
            chaninfo: [1×1 struct]
                 ref: 'common'
               event: [1×157 struct]
             urevent: [1×154 struct]
    eventdescription: {[2×29 char]  [2×63 char]  [2×36 char]  ''  ''}
               epoch: [1×80 struct]
    epochdescription: {}
              reject: [1×1 struct]
               stats: [1×1 struct]
            specdata: []
          specicaact: []
          splinefile: []
       icasplinefile: ''
              dipfit: []
             history: ''
               saved: 'yes'
                 etc: [1×1 struct]
             datfile: 'eeglab_data_epochs_ica.fdt'
                 run: []
```
From: https://eeglab.org/tutorials/ConceptsGuide/Data_Structures.html

Note that, in general, nbchans will be 19, trials will be 1, srate will be 256, and our data will be [19x"some number"] which will dictate the shape of many of the other fields.

### Signal Data
The way that the data is layed out in this data structure is with the first dimension being the channel and the second dimension being the samples. That means that if we chose the 8th index for the 1st dimension and the 256th index for the 2nd dimension, that would be the end of the first second (time) of the 8th channel (P4). The way that the channels are layed out is the same as in the other analysis softwares we use. The order goes:

[Fp1, Fp2, F3, F4, C3, C4, P3, P4, O1, O2, F7, F8, T3, T4, T5, T6, Fz, Cz, Pz]

Note that MATLAB starts at the 1 index where as many or most other programs start at the 0 index.

What the data then is, in reality, is a series of signals which are in them selves a series of magnitudes at discrete indicies. You can think of the data structure from a 10 minute 19 channel EEG recording as 19 rows and 153,600 columns of data (that is 10 minutes x 60 seconds per minute x 256 samples per second).

For more information, see: https://eeglab.org/tutorials/ConceptsGuide/Data_Structures.html

## Pipeline Flow

### Preparation

#### Set Channel Locations
The pipeline starts by setting the channel locations of the EEG using the standard Boundary Element Method (BEM), a built in template in EEGLAB's Dipfit plugin, and uses the International 10-20 System locations that we use for our EEGs.

For more information, see: https://eeglab.org/tutorials/09_source/Model_Settings.html

#### Re-referencing

Re-referenceing is the processing changing the reference, the site or sites that are used as the negative pole in relation to the active or postive pole of the electrical circuit that is responsible for allowing the electromagnetic signal generated by the brain to be recorded. The reference that that data is in when we record it is called "Common Reference", refering to the fact that the reference is typically some electrode which all of the others refer to in common (i.e. Cz). A common reference we use is called "Linked Ears Reference" which refers to using the earlobe clip electrodes as a reference. The other common reference we use is the "Average Reference". Average reference is a bit more complicated to explain, but it is a very commonly used reference by other EEG analysts. In MATLAB, we will be using the average reference. There is no single best reference scheme, and each scheme has its benefits and its weaknesses.

For more information, see: https://eeglab.org/tutorials/05_Preprocess/rereferencing.html

### Preprocessing

#### Filtering

There are a couple of reasons why and a couple of differen ways that we use filtering in EEG. One is that, often times, there can be very lowe frequency drift that is in the low delta range. So using a High Pass Filter (HPS) allows us to cut out that drift and get the signal to be more centered. Most of the information that we are interested in is above 0.5 Hz, so we typically will filter out information below 0.5 Hz. On some cases, there may be a lot of drift or other low frequency artifacts, so it may be required to go up to 1 Hz or even 2 Hz for extreme cases. Note that, when increasing into that frequency range, important data starts to be lost.

[Still working on the rest]

For more information, see: https://eeglab.org/tutorials/05_Preprocess/Filtering.html
